<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Setback Card Game</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
</head>
<body>
    <div id="app">
        <!-- Login Screen -->
        <div id="loginScreen" class="screen">
            <div class="login-container">
                <h1>Shack Setback</h1>
                <div class="login-form">
                    <input type="text" id="playerName" placeholder="Enter your name" maxlength="20">
                    <select id="roomId">
                        <option value="SPRADLIN">Spradlin's Saloon</option>
                        <option value="SHACK">SHACK</option>
                        <option value="GLARE">G.L.A.R.E.</option>
                    </select>
                    <button id="joinGameBtn">Join Game</button>
                </div>
            </div>
        </div>

        <!-- Lobby Screen -->
        <div id="lobbyScreen" class="screen hidden">
            <div class="lobby-container">
                <h2>Game Lobby</h2>
                <div class="room-info">
                    <p>Room ID: <span id="currentRoomId"></span></p>
                    <p>Players: <span id="playerCount">0</span>/4</p>
                </div>
                
                <div class="players-list">
                    <h3>Players:</h3>
                    <ul id="playersList"></ul>
                </div>
                
                <div class="lobby-actions">
                    <button id="readyBtn">Ready</button>
                    <button id="leaveRoomBtn">Leave Room</button>
                </div>
                
                <div class="game-messages">
                    <div id="lobbyMessages"></div>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="screen hidden">
            <div class="game-container">
                <div class="game-header">
                    <div class="scores">
                        <div class="team-score" id="team1Section">
                            <h3>Me & My Uncle</h3>
                            <div class="team-players" id="team1Players">
                                <!-- Player names will be populated here -->
                            </div>
                            <div class="score">
                                <span id="team1Score">0</span>
                            </div>
                        </div>
                        <div class="game-info">
                            <p>Trump: <span id="trumpSuit">-</span></p>
                            <p>Bid: <span id="currentBid">-</span></p>
                            <p>Dealer: <span id="currentDealer">-</span></p>
                            <p class="current-player">Your Turn: <span id="currentPlayerName">-</span></p>
                        </div>
                        <div class="team-score" id="team2Section">
                            <h3>West Texas Cowboys</h3>
                            <div class="team-players" id="team2Players">
                                <!-- Player names will be populated here -->
                            </div>
                            <div class="score">
                                <span id="team2Score">0</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="game-board-container">
                    <div class="game-board">
                        <div class="played-cards" id="playedCards">
                            <!-- Played cards will appear here -->
                        </div>
                    </div>
                    
                    <div class="game-messages-sidebar">
                        <!-- Game Info section (Trump, Bid, Dealer) -->
                        
                        <!-- ADD CHAT SECTION HERE -->
                        <div class="chat-section">
                            <h3>Chat</h3>
                            <div class="chat-messages" id="chatMessages">
                                <!-- Messages will appear here -->
                            </div>
                            <div class="chat-input">
                                <input type="text" id="chatInput" placeholder="Type your message..." maxlength="100">
                                <button id="chatSendBtn">Send</button>
                            </div>
                        </div>
                        
                        <!-- KEEP EXISTING GAME MESSAGES -->
                        <div class="game-messages">
                            <h3>Game Activity</h3>
                            <div id="messageArea">
                                <!-- Existing game messages stay here -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="player-hand">
                    <h3>Your Hand</h3>
                    <div class="hand-cards" id="handCards">
                        <!-- Player's cards will appear here -->
                    </div>
                </div>
                
                <div class="game-actions">
                    <div class="bidding-section" id="biddingSection">
                        <h3>Bidding</h3>
                        <button class="bid-btn" data-bid="2">2</button>
                        <button class="bid-btn" data-bid="3">3</button>
                        <button class="bid-btn" data-bid="4">4</button>
                        <button class="bid-btn" data-bid="5">5</button>
                        <button class="bid-btn" data-bid="6">6</button>
                        <button class="bid-btn" data-bid="pass">Pass</button>
                    </div>
                    
                    <div class="trump-selection" id="trumpSelection">
                        <h3>Choose Trump</h3>
                        <button class="trump-btn" data-suit="spades">♠</button>
                        <button class="trump-btn" data-suit="hearts">♥</button>
                        <button class="trump-btn" data-suit="diamonds">♦</button>
                        <button class="trump-btn" data-suit="clubs">♣</button>
                    </div>
                    <div class="scoring-display" id="scoringDisplay">
                        <h3>Hand Results</h3>
                        <div class="scoring-breakdown" id="scoringBreakdown">
                            <!-- Scoring details will appear here -->
                        </div>
                        <button id="nextHandBtn" class="next-hand-btn">Start Next Hand</button>
                    </div>  
                </div>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="/constants.js"></script>
    <script src="game.js"></script>
</body>
</html>